#+TITLE: Command Log

#+HTML: <a href="https://melpa.org/#/command-log"><img src="https://melpa.org/packages/command-log-badge.svg" alt="melpa package"></a> <a href="https://stable.melpa.org/#/command-log"><img src="https://stable.melpa.org/packages/command-log-badge.svg" alt="melpa stable package"></a>
#+HTML: <a href="https://github.com/positron-solutions/command-log/actions/?workflow=CI"><img src="https://github.com/positron-solutions/command-log/actions/workflows/ci.yml/badge.svg" alt="CI workflow status"></a>
#+HTML: <a href="https://github.com/positron-solutions/command-log/actions/?workflow=Developer+Certificate+of+Origin"><img src="https://github.com/positron-solutions/command-log/actions/workflows/dco.yml/badge.svg" alt="DCO Check"></a>

Please see the [[https://github.com/tarsius/keycast/tree/master][keycast]] package, which has options to display in a posframe,
headline, or modeline.  It's a pretty well written package.  This package was
started to clean up the [[https://github.com/lewang/command-log-mode][command-log-mode]] package that is still ranking highly in
a lot of search results.

** What it do?

   Watch commands & key sequences in some or all buffers.  Good for recording
   demos or annotating videos.

   - Logs can be saved and contain command timestamps
   - Filter commands or activate logging only in select buffers
   - Side window buffer display

** What it look like?

   [[https://github.com/positron-solutions/command-log/raw/master/screenshot1.png]]

** Installation

   Until and unless MELPA is updated, configure your package manager (which
   should support pointing at specific repositories) to use this repo.

  #+begin_src elisp

    ;; using straight use-package with custom recipe
    (use-package command-log
      :straight '(command-log
                  :type git :host github :repo "positron-solutions/command-log"))

    ;; using elpaca (recommended to add a hash for reproducibility)
    (elpaca-use-package
     (command-log :host github
                  :repo "positron-solutions/command-log"))

  #+end_src

** How do I use it?

   Use the ~command-log-toggle~ command.  The use-package configuration below will
   configure this command to log globally, including the minibuffer, and to
   disable the global minor mode when you toggle while the buffer is visible.
   Customize the =command-log= group for more options.

   #+begin_src elisp

     (use-package command-log
        :custom
        (command-log-window-text-scale 2 "Command log two steps higher text scale")
        (command-log-logging-shows-buffer t "Toggling will show the buffer.")
        (command-log-hiding-disables-logging t "Toggling visible buffer turns off logging.")
        (command-log-disabling-logging-kills-buffer t "The buffer will be new when displayed again.")
        (command-log-log-globally t "Auto-enable with global minor mode (including minibuffer)")
        (command-log-filter-commands '(self-insert-command) "Be chatty.
        Show everything besides self-insert-command"))

   #+end_src

   You can reveal all commands by running [M-x]
   =command-log-toggle-show-all-commands=.

   Commands to toggle buffer showing and to turn everything off without doing it
   on every toggle are sorely needed.  PR's welcome!

** License

   All post-fork work is GPL licensed.  This increasingly covers most of the
   package.  The CI is MIT licensed for ease of use.  See [[./CONTRIBUTING.org][CONTRIBUTING.org]] for
   information about submitting changes correctly.

   This package is a fork of [[http://www.foldr.org/~michaelw/emacs/mwe-log-commands.el][mwe-log-commands.el]] by Michael Weber
   <michaelw@foldr.org> The link is broken, but the [[https://github.com/lewang/command-log-mode/commit/dbaae64724589007d8bd776e6bf38ca2cb88156b][original commit]] indicates
   that it was GPL2+ licensed, including the other forks.  Thanks to others who
   are in git history or appear in copyright notices.
